<div class="contain">
  <div class="row gutters-sm">
    <div class="col-md-4 d-none d-md-block">
      <div class="card">
        <div class="card-body">
          <nav class="nav flex-column nav-pills nav-gap-y-1">
            <a
              (click)="tabToggle(1)"
              [ngClass]="{ active: showTab == 1 }"
              data-toggle="tab"
              class="nav-item nav-link has-icon nav-link-faded active"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="feather feather-user mr-2"
              >
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              Profile Information
            </a>
            <a
              (click)="tabToggle(2)"
              [ngClass]="{ active: showTab == 2 }"
              data-toggle="tab"
              class="nav-item nav-link has-icon nav-link-faded mt-2"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="feather feather-settings mr-2"
              >
                <circle cx="12" cy="12" r="3"></circle>
                <path
                  d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
                ></path>
              </svg>
              Account Settings
            </a>
            <!-- Button trigger modal -->
            <!-- <button type="button" class="btn btn-primary">
              Launch static backdrop modal
            </button> -->
            <a
              (click)="tabToggle(3)"
              [ngClass]="{ active: showTab == 3 }"
              data-toggle="tab"
              class="nav-item nav-link has-icon nav-link-faded mt-2"
              data-bs-toggle="modal"
              data-bs-target="#staticBackdrop"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="feather feather-shield mr-2"
              >
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
              </svg>
              Create New Product
            </a>
            <!--<a
              (click)="tabToggle(4)"
              [ngClass]="{ active: showTab == 4 }"
              data-toggle="tab"
              class="nav-item nav-link has-icon nav-link-faded"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="feather feather-bell mr-2"
              >
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg
              >Notification
            </a>
            <a
              (click)="tabToggle(5)"
              [ngClass]="{ active: showTab == 5 }"
              data-toggle="tab"
              class="nav-item nav-link has-icon nav-link-faded"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="feather feather-credit-card mr-2"
              >
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                <line x1="1" y1="10" x2="23" y2="10"></line></svg
              >Billing
            </a> -->
          </nav>
        </div>
      </div>
    </div>
    <div class="col-md-8">
      <div class="card">
        <div class="card-header border-bottom mb-3 d-flex d-md-none">
          <ul class="nav nav-tabs card-header-tabs nav-gap-x-1" role="tablist">
            <li class="nav-item">
              <a
                (click)="tabToggle(1)"
                data-toggle="tab"
                class="nav-link has-icon active"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-user"
                >
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle></svg
              ></a>
            </li>
            <li class="nav-item">
              <a
                (click)="tabToggle(2)"
                data-toggle="tab"
                class="nav-link has-icon"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-settings"
                >
                  <circle cx="12" cy="12" r="3"></circle>
                  <path
                    d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
                  ></path></svg
              ></a>
            </li>
            <li class="nav-item">
              <a
                (click)="tabToggle(3)"
                data-toggle="tab"
                class="nav-link has-icon"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-shield"
                >
                  <path
                    d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"
                  ></path></svg
              ></a>
            </li>
            <li class="nav-item">
              <a
                (click)="tabToggle(4)"
                data-toggle="tab"
                class="nav-link has-icon"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-bell"
                >
                  <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                  <path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg
              ></a>
            </li>
            <li class="nav-item">
              <a
                (click)="tabToggle(5)"
                data-toggle="tab"
                class="nav-link has-icon"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-credit-card"
                >
                  <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                  <line x1="1" y1="10" x2="23" y2="10"></line></svg
              ></a>
            </li>
          </ul>
        </div>
        <div class="card-body tab-content">
          <div class="tab-pane active" id="profile" *ngIf="showTab == 1">
            <h6>USER MANAGEMENT</h6>
            <hr />
            <link
              rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css"
              integrity="sha256-2XFplPlrFClt0bIdPgpz8H7ojnk10H69xRqd9+uTShA="
              crossorigin="anonymous"
            />

            <div class="col-lg user-list mt-2 mt-lg-0">
              <div class="row">
                <div class="col-lg">
                  <div
                    class="user-dashboard-info-box table-responsive mb-0 bg-white p-4 shadow-sm"
                  >
                    <table class="table manage-candidates-top mb-0">
                      <thead>
                        <tr>
                          <th>Candidate Name</th>
                          <th class="text-center">Status</th>
                          <!-- <th class="action text-right">Activity</th> -->
                        </tr>
                      </thead>

                      <tbody>
                        <tr
                          class="candidates-list"
                          *ngFor="let row of response.users; let i = index"
                        >
                          <td class="title">
                            <div class="thumb">
                              <img
                                class="img-fluid"
                                src="https://bootdey.com/img/Content/avatar/avatar7.png"
                                alt=""
                              />
                            </div>
                            <div class="candidate-list-details">
                              <div class="candidate-list-info">
                                <div class="candidate-list-title">
                                  <h5 class="mb-0">
                                    <a href="#">{{ row.name }}</a>
                                  </h5>
                                </div>
                                <div class="candidate-list-option">
                                  <ul class="list-unstyled">
                                    <li>
                                      <i
                                        class="fa fa-envelope"
                                        aria-hidden="true"
                                      ></i>
                                      {{ row.email }}
                                    </li>
                                    <li>
                                      {{ row.createdDate }}
                                    </li>
                                  </ul>
                                </div>
                              </div>
                            </div>
                          </td>
                          <td class="candidate-list-favourite-time text-center">
                            <span
                              class="candidate-list-time order-1"
                              *ngIf="row.enabled"
                              >Verified</span
                            >
                            <span
                              class="candidate-list-time order-1"
                              *ngIf="!row.enabled"
                              >Non-Verified</span
                            >
                          </td>
                          <!-- <td>
                            <ul
                              class="list-unstyled mb-0 d-flex justify-content-end"
                            >
                              <li>
                                <span class="candidate-list-time order-1"
                                  >Created courses :
                                  {{ row.createdCourses.length }}</span
                                >
                              </li>
                              <li>
                                <span class="candidate-list-time order-1"
                                  >Registered courses :
                                  {{ row.registeredCourses.length }}</span
                                >
                              </li>
                              <li>
                                <span class="candidate-list-time order-1"
                                  >Reviews : {{ row.reviews.length }}</span
                                >
                              </li>
                            </ul>
                          </td> -->
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tab-pane active" id="account" *ngIf="showTab == 2">
            <h6>MANAGE USERS</h6>
            <hr />
            <link
              href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
              rel="stylesheet"
            />

            <div class="container">
              <div class="row">
                <div class="col-md-12">
                  <div class="card">
                    <div class="card-body"></div>
                    <div class="table-responsive">
                      <table class="table no-wrap user-table mb-0">
                        <thead>
                          <tr>
                            <th
                              scope="col"
                              class="border-0 text-uppercase font-medium pl-4"
                            >
                              No
                            </th>
                            <th
                              scope="col"
                              class="border-0 text-uppercase font-medium"
                            >
                              Name
                            </th>
                            <!-- <th
                              scope="col"
                              class="border-0 text-uppercase font-medium"
                            >
                              Occupation
                            </th>
                            <th
                              scope="col"
                              class="border-0 text-uppercase font-medium"
                            >
                              Email
                            </th> -->
                            <th
                              scope="col"
                              class="border-0 text-uppercase font-medium"
                            >
                              Signup Date
                            </th>
                            <th
                              scope="col"
                              class="border-0 text-uppercase font-medium"
                            >
                              Category
                            </th>
                            <th
                              scope="col"
                              class="border-0 text-uppercase font-medium"
                            >
                              Manage
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let row of response.users; let i = index">
                            <td class="pl-4">{{ i + 1 }}</td>
                            <td>
                              <h5 class="font-medium mb-0">{{ row.name }}</h5>
                              <span class="text-muted">{{ row.email }}</span>
                            </td>
                            <!-- <td>
                              <span class="text-muted">Visual Designer</span
                              ><br />
                              <span class="text-muted">Past : teacher</span>
                            </td>
                            <td>
                              <span class="text-muted">daniel@website.com</span
                              ><br />
                              <span class="text-muted">999 - 444 - 555</span>
                            </td> -->
                            <td>
                              <span class="text-muted">{{
                                row.createdDate
                              }}</span
                              ><br />
                            </td>
                            <td>
                              <div *ngFor="let role of row.roles">
                                <span
                                  class="text-muted"
                                  *ngIf="
                                    role.userRole != 'USER' &&
                                    role.userRole != 'STUDENT'
                                  "
                                  >{{ role.userRole }}</span
                                >
                              </div>
                            </td>

                            <td>
                              <button
                                type="button"
                                class="btn btn-outline-info btn-circle btn-lg btn-circle"
                                data-bs-toggle="modal"
                                data-bs-target="#exampleModal"
                                (click)="onclick(row.userId)"
                              >
                                <i class="fa fa-key"></i>
                              </button>
                              <!-- <button
                                type="button"
                                class="btn btn-outline-info btn-circle btn-lg btn-circle ml-2"
                              >
                                <i class="fa fa-trash"></i>
                              </button>
                              <button
                                type="button"
                                class="btn btn-outline-info btn-circle btn-lg btn-circle ml-2"
                              >
                                <i class="fa fa-edit"></i>
                              </button> -->
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <form #userRole="ngForm" (ngSubmit)="assignRole(userRole.value)">
        <div class="modal-body">
          <label for="exampleInputEmail1" class="form-label">User Role</label>
          <select
            ngModel
            name="userRole"
            class="form-select"
            aria-label="Default select example"
          >
            <option disabled selected value>Select one below</option>
            <option value="ADMIN">Admin</option>
            <option value="MODERATOR">Moderator</option>
            <option value="USER">User</option>
          </select>

          <label for="exampleInputEmail1">Role Description</label>
          <input
            type="text"
            name="description"
            ngModel
            class="form-control"
            id="exampleInputDescription"
            aria-describedby="emailHelp"
            placeholder="Role Description"
          />
          <br />
          <br />
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Close
          </button>
          <input type="submit" class="btn btn-primary" value="submit" />
        </div>
      </form>
    </div>
  </div>
</div>

<!-- add new products ------------------------------------------------------ -->

<!-- Modal -->
<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
  <div
    class="modal fade"
    id="staticBackdrop"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">
            Create New Product
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <form
            #productForm="ngForm"
            (ngSubmit)="createProduct(productForm)"
            class="needs-validation"
            novalidate=""
          >
            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="reg-fn">Product Name</label>
                  <input
                    class="form-control"
                    type="text"
                    ngModel
                    name="name"
                    required=""
                    id="reg-fn"
                  />
                  <div class="invalid-feedback">Please enter product name!</div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="reg-ln">Product Description</label>
                  <input
                    class="form-control"
                    type="text"
                    ngModel
                    name="description"
                    required=""
                    id="reg-ln"
                  />
                  <div class="invalid-feedback">Please enter description!</div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="reg-email">Price</label>
                  <input
                    class="form-control"
                    type="number"
                    required=""
                    id="reg-price"
                    ngModel
                    name="price"
                  />
                  <div class="invalid-feedback">Please enter price!</div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="reg-phone">Quantity</label>
                  <input
                    class="form-control"
                    type="number"
                    required=""
                    id="reg-quantity"
                    ngModel
                    name="quantity"
                  />
                  <div class="invalid-feedback">Please enter quantity!</div>
                </div>
              </div>
            </div>
            <div class="mb-3 mt-3">
              <label for="formFile" class="form-label">Product Image</label>
              <input
                class="form-control"
                (change)="getFile($event)"
                type="file"
                id="formFile"
              />
            </div>
            <div class="modal-footer mt-5">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>

              <button class="btn btn-primary" type="submit">Add</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <button (click)="getImage()">getimage</button>

<div class="container row">
  <div class="col-md-12">
    <div *ngIf="retrievedImage">
      <img [src]="retrievedImage" />
    </div>
  </div>
</div> -->
